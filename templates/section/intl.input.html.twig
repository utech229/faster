<script type="text/javascript">
    //Begin -- Initialisation des selects téléphone dans tous le document
    function intlPhone(input){
        return window.intlTelInput(input, {
            // allowDropdown: false,
            autoHideDialCode: true,
            // autoPlaceholder: true,
            // dropdownContainer: document.querySelector('input[name=phone]'),
            // excludeCountries: ["us"],
            // formatOnDisplay: true,
            geoIpLookup: function(callback) {
                $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
                    var countryCode = (resp && resp.country) ? resp.country : "";
                    callback(countryCode);
                });
            },
            hiddenInput: "full_number",
            initialCountry: "bj",
            // localizedCountries: { 'de': 'Deutschland' },
            nationalMode: true,
            // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
            // placeholderNumberType: "MOBILE",
            preferredCountries: [
                'bj', 'bf', 'ci', 'cm', 'cd', 'gn', 'ml', 'ne', 'sn', 'tg', 'be', 'de', 'fr', 'ng', 'us'
            ],
            separateDialCode: true,
            utilsScript: "{{asset('librairies/intl/build/js/utils.js') }}",
        });
    }

    var selectorsPhone = document.querySelectorAll('input.tel');

    if(typeof intl === 'undefined') var intl = [];

    selectorsPhone.forEach((selector, index) => {
        let id = $(selector).attr("id");

        if(id === undefined) id = index;

        intl[id] = intlPhone(selector);

        $(selector).parent('div.iti').addClass("w-100");
    });
    //End -- Initialisation des selects téléphone dans tous le document
</script>
